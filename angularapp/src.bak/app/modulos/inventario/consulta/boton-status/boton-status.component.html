<button class="badge" (click)="loadModalStepOne()"
	[ngClass]="{'badge-available':element.Status == 'Disponible', 'badge-not-available':element.Status == 'No disponible', 'badge-drop':element.Status == 'Baja'}">
	{{ element.Status }}
		<svg width="18" height="16" viewBox="0 0 18 16" fill="none" xmlns="http://www.w3.org/2000/svg">
			<path
				d="M12.57 10.7789L13.5699 9.77904C13.7261 9.62281 13.9979 9.73217 13.9979 9.95714V14.5002C13.9979 15.3282 13.3262 16 12.4982 16H1.49978C0.671777 16 0 15.3282 0 14.5002V3.50183C0 2.67383 0.671777 2.00205 1.49978 2.00205H10.0454C10.2672 2.00205 10.3797 2.27076 10.2235 2.43011L9.22365 3.42997C9.17678 3.47683 9.11429 3.50183 9.04555 3.50183H1.49978V14.5002H12.4982V10.9539C12.4982 10.8882 12.5232 10.8258 12.57 10.7789ZM17.4631 4.47356L9.25802 12.6786L6.43343 12.9911C5.6148 13.0817 4.91803 12.3912 5.00864 11.5663L5.3211 8.74169L13.5261 0.53664C14.2417 -0.17888 15.3977 -0.17888 16.1101 0.53664L17.4599 1.88644C18.1755 2.60196 18.1755 3.76117 17.4631 4.47356ZM14.376 5.43905L12.5607 3.62369L6.75526 9.43221L6.52717 11.4725L8.5675 11.2444L14.376 5.43905ZM16.4007 2.94879L15.0509 1.59898C14.9228 1.47088 14.7135 1.47088 14.5885 1.59898L13.623 2.56447L15.4384 4.37983L16.4038 3.41434C16.5288 3.28311 16.5288 3.07689 16.4007 2.94879Z"
				fill="#4E6890" />
		</svg>
</button>




<ng-template #modalStatusStepOne let-modal>
	<div class="text-end" style="cursor: pointer;">
		<a (click)="modal.dismiss('Cross click')">
			<img src="./../../../../assets/icons/ic_cerrar.svg" alt="">
		</a>
	</div>
	<div class="modal-body">
		<div class="bloque-azul d-flex align-items-center"
			style="background: #112876; border-radius: 10px; padding: 10px 20px; height: 70px;">
			<div class="flex-grow-1" style="font-size: 18px; color: #FFF; font-weight: bold; text-align: left;">
				{{this.modalHeaderData[0]}} |
				{{this.modalHeaderData[1]}} |
				{{this.modalHeaderData[2]}} -
				{{this.modalHeaderData[3]}} |
				{{this.modalHeaderData[4]}}
			</div>

		</div>

		<fieldset>
			<form [formGroup]="formChangeStatus">
				<div class="d-flex justify-content-around align-items-center mt-5 ms-5 me-5 mb-3">
					<ng-container *ngFor="let Status of StatusList; let i = index" #itemsRadio>
						<div *ngIf="Status.Status" class="d-flex align-items-center">
							<input class="m-2" type="radio" id="{{ Status.Identifier }}" name="Status"
								[value]="Status.Identifier" formControlName="Status"
								(click)="loadModalStepTwo( Status )" />
							<label for="{{ Status.Identifier }}">{{Status.StatusDesc}}</label>
						</div>
					</ng-container>
				</div>
			</form>

		</fieldset>
	</div>
</ng-template>



<ng-template #modalStatusStepTwo let-modal>
	<div class="text-end" style="cursor: pointer;">
		<a (click)="modal.dismiss('Cross click')">
			<img src="./../../../../assets/icons/ic_cerrar.svg" alt="">
		</a>
	</div>
	<div class="modal-body">
		<fieldset>
			<div class="row ">
				<div class="col-12 p-3 text-center">
					<p style="font-size: 16px; color: #112876;">
						Estás traspasando la unidad {{this.modalHeaderData[0]}} <br>
						del estatus <strong>{{this.modalHeaderData[7]}}</strong> al status
						<strong>{{ newStatus }}</strong>
						<br>
						¿Estás seguro que deseas continuar?
					</p>
				</div>
			</div>

			<div class="row">
				<div class="col-12 d-flex justify-content-center">
					<button class="btn btn-info" style="margin-right: 20px;" (click)="loadModalStepOne()">
						Atrás
					</button>

					<button class="btn btn-primary" (click)="loadModalStepThree()">
						Continuar
					</button>
				</div>
			</div>

		</fieldset>
	</div>
</ng-template>






<ng-template #modalStatusStepThree let-modal>
	<div class="text-end" style="cursor: pointer;">
		<a (click)="modal.dismiss('Cross click')">
			<img src="./../../../../assets/icons/ic_cerrar.svg" alt="">
		</a>
	</div>
	<div class="modal-body">
		<div class="bloque-azul d-flex align-items-center"
			style="background: #112876; border-radius: 10px; padding: 10px 20px; height: 70px;">
			<div class="flex-grow-1" style="font-size: 18px; color: #FFF; font-weight: bold; text-align: left;">
				{{this.modalHeaderData[0]}} |
				{{this.modalHeaderData[1]}} |
				{{this.modalHeaderData[2]}} -
				{{this.modalHeaderData[3]}} |
				{{this.modalHeaderData[4]}}
			</div>
		</div>

		<fieldset>

			<form [formGroup]="formChangeSubstatus">

					<div class="col-12 mt-3 mb-3" *ngIf="SubstatusList">
						<div class="form-group">
							<label class="form-control-label text-secondary mb-1 mt-1" for="SubStatus">Sitio*:</label>
							<select class="form-select form-control select-origami w-100" formControlName="SubStatus"
								id="SubStatus" (change)="onChangeSubstatus($event)">
								<option selected disabled value="">Subestatus*</option>
								<ng-container *ngFor="let SubStatus of SubstatusList">
									<option *ngIf="SubStatus.Status" [value]="SubStatus.Identifier">{{ SubStatus.SubstatusDesc
										}}</option>
								</ng-container>
							</select>
						</div>
					</div>
					<div class="col-12 mt-3 mb-3">
						<div class="form-group">
							<label class="form-control-label text-secondary mb-1 mt-1" for="Reason">Motivo:</label>
							<input class="form-control w-100" id="Reason" name="Reason" formControlName="Reason"
								placeholder="Describe brevemente el motivo" type="text">
						</div>
					</div>
					<div class="row">
						<div class="col-12 d-flex justify-content-center">
							<button class="btn btn-info" style="margin-right: 20px;" (click)="loadModalStepOne()">
								BORRAR
							</button>

							<button class="btn btn-primary"
								[disabled]="!(formChangeStatus.valid && (formChangeStatus.touched ||  formChangeStatus.dirty))"
								(click)="sendVehicleAvailability()">
								GUARDAR
							</button>
						</div>
					</div>
			</form>

		</fieldset>
	</div>
</ng-template>




<ng-template #modalStatusStepFour let-modal>
	<div class="text-end" style="cursor: pointer;">
		<a (click)="modal.dismiss('Cross click')">
			<img src="./../../../../assets/icons/ic_cerrar.svg" alt="">
		</a>
	</div>
	<div class="modal-body">
		<div class="bloque-azul d-flex align-items-center"
			style="background: #112876; border-radius: 10px; padding: 10px 20px; height: 70px;">
			<div class="flex-grow-1" style="font-size: 18px; color: #FFF; font-weight: bold; text-align: left;">
				{{this.modalHeaderData[0]}} |
				{{this.modalHeaderData[1]}} |
				{{this.modalHeaderData[2]}} -
				{{this.modalHeaderData[3]}} |
				{{this.modalHeaderData[4]}}
			</div>
		</div>

		<fieldset>

			<div class="row">
                <div class="col-12 mt-3 mb-4 d-flex justify-content-center align-items-center flex-column">
                    <div class="m-4">
                        <img src="./../../../../assets/icons/ic_good.png" alt="">
                    </div>
                    <h6 class="text-secondary">
                       <strong>Se ha traspasado la unidad {{this.modalHeaderData[0]}} con éxito.</strong>
                    </h6>
                    <div class="w-100 ms-3 mt-3">
                        <p class="mb-1"><strong>Status:</strong> {{this.NewStatusText }} </p>

                        <p class="mb-1" *ngIf="this.SubstatusText">
							<strong>Substatus:</strong> {{ this.SubstatusText }} </p>

                        <p class="mb-1"><strong>Fecha:</strong> {{this.Today}} </p>
                        <p class="mb-1"><strong>Motivo:</strong> {{this.formChangeSubstatus.value.Reason}} </p>
                    </div>
                </div>
            </div>

            <div class="row">
                <div class="col-12 mt-3 mb-4 d-flex justify-content-center">
                    <button style="margin-right: 20px;" type="button" class="btn btn-primary" (click)="finalizar()">
                        Continuar
                    </button>
                </div>
            </div>

		</fieldset>
	</div>
</ng-template>
