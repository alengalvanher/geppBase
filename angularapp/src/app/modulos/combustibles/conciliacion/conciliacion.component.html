<!-- <pre>
	<h6>modalHeaderData</h6>
	{{ modalHeaderData | json }}
</pre>

<pre>
	<h6>currentDate</h6>
	{{ currentDate | json }}
</pre>

<pre>
	<h6>currentSupplier</h6>
	{{ currentSupplier | json }}
</pre> -->

<div [ngClass]="{'hide':(this.openHistoricPanel)}" class="container-fluid pt-3 pb-5 animate__animated animate__fadeIn animate__faster">

	<div class="container">

		<div class="card">

			<!-- ENCABEZADO -->
			<div class="card-header bg-secondary">
				<div class="card-header__title text-white d-flex">
					Consulta de gastos en combustible
				</div>
				<div class="card-header__menu-header">
					Inicio / Combustible / Consulta de gasto en combustible
				</div>
			</div>


			<div class="nav-wrapper">
				<div class="container">
					<div class="row">
						<div class="col-6 d-flex align-items-end">
							<nav ngbNav #tabsSuppliers="ngbNav" [(activeId)]="active">

								<ng-container *ngFor="let supplier of tabs" ngbNavItem [ngbNavItem]="supplier">
									<a ngbNavLink (click)="tabSelected(supplier)">{{ supplier }}</a>

									<ng-template ngbNavContent>
									</ng-template>
								</ng-container>

							</nav>
						</div>


						<div class="col-6">
							<div class="d-flex mb-2 justify-content-end">
								<app-filter-by-date (dataDatePicker)="receivingDate($event)" [position]="'right'"></app-filter-by-date>

								<button class="btn btn-sm btn-primary" style="margin-left: 10px" (click)="abrirDescargas()">
									<div class="d-flex">
										<div class="mr-2">
											<svg width="12" height="17" viewBox="0 0 12 17" fill="none" xmlns="http://www.w3.org/2000/svg">
												<g clip-path="url(#clip0_404_3483)">
												<path d="M2 0.5C0.896875 0.5 0 1.39688 0 2.5V14.5C0 15.6031 0.896875 16.5 2 16.5H10C11.1031 16.5 12 15.6031 12 14.5V5.5H8C7.44688 5.5 7 5.05312 7 4.5V0.5H2ZM8 0.5V4.5H12L8 0.5ZM6.75 7.75V10.9406L7.71875 9.97188C8.0125 9.67813 8.4875 9.67813 8.77812 9.97188C9.06875 10.2656 9.07187 10.7406 8.77812 11.0312L6.52812 13.2812C6.23438 13.575 5.75938 13.575 5.46875 13.2812L3.21875 11.0312C2.925 10.7375 2.925 10.2625 3.21875 9.97188C3.5125 9.68125 3.9875 9.67813 4.27812 9.97188L5.24687 10.9406V7.75C5.24687 7.33437 5.58125 7 5.99687 7C6.4125 7 6.74687 7.33437 6.74687 7.75H6.75Z" fill="white"/>
												</g>
												<defs>
												<clipPath id="clip0_404_3483">
												<rect width="12" height="16" fill="white" transform="translate(0 0.5)"/>
												</clipPath>
												</defs>
											</svg>
										</div>

										<div style="padding-left: 10px;">
											Descargar
										</div>
									</div>
								</button>
							</div>
						</div>
					</div>
				</div>
			</div>




			<!-- TABS -->
			<div class="card-body card-with-table">
				<!-- <div class="row mt-2 mb-4" *ngIf="FuelSupplierSummary?.Total">
					<div class="col-12">
						<div class="d-flex combustibles-card">

							<div>
								<img src="./../../../../assets/img/logos/{{ FuelSupplierSummary?.Supplier }}.png"
									alt="">
							</div>

							<div class="flex-grow-1" style="padding-left: 15px">
								<b>{{ FuelSupplierSummary?.Total }}</b> | {{ FuelSupplierSummary?.Period }}
							</div>

							<div>

							</div>
						</div>
					</div>
				</div> -->

				<div class="row">
					<div class="col-6 pb-3">

						<div class="indicadores">
							<div class="indicadores__header">
								Resumen:
							</div>

							<div class="indicadores__body d-flex">
								<div class="flex-fill">
									Total:<br>
									<b>{{ FuelSupplierSummary?.Total }}</b>
								</div>

								<div class="flex-fill">
									Cantidad:<br>
									<b>{{ FuelSupplierSummary?.Quantity }}</b>
								</div>

								<div class="flex-fill">
									Período: <br>
									<b>{{ FuelSupplierSummary?.Period }}</b>
								</div>
							</div>
						</div>

					</div>
					<div class="col-6 d-flex pb-3 align-items-end justify-content-end">
						<app-table-filter-search (filter)="readingFilter($event)"></app-table-filter-search>
						<app-table-filter-columns [columns]="displayedColumns" (returnedColumns)="renderColumns($event)"></app-table-filter-columns>
					</div>
				</div>



				<div class="d-flex">
					<!-- <h3>AQUÍ IBAN LAS PASTILLAS</h3> -->

				</div>



				<div class="d-flex">
					<div [ngbNavOutlet]="tabsSuppliers"></div>
				</div>



				<div class="row">
					<div class="col-12">

						<div class="table-wrapper">
							<table mat-table [dataSource]="tableDataSource" class="w-100">
								<ng-container matColumnDef="Eco">
									<th mat-header-cell *matHeaderCellDef>
										<div style="width: 100px;">
											Económico
											<svg width="12" height="12" viewBox="0 0 12 12" fill="none"
												xmlns="http://www.w3.org/2000/svg">
												<g opacity="0.65">
													<path fill-rule="evenodd" clip-rule="evenodd"
														d="M3.27262 1C3.39317 1 3.50877 1.04789 3.59401 1.13312C3.67925 1.21836 3.72713 1.33397 3.72713 1.45451V10.5447C3.72713 10.6652 3.67925 10.7808 3.59401 10.8661C3.50877 10.9513 3.39317 10.9992 3.27262 10.9992C3.15208 10.9992 3.03647 10.9513 2.95124 10.8661C2.866 10.7808 2.81812 10.6652 2.81812 10.5447V1.45451C2.81812 1.33397 2.866 1.21836 2.95124 1.13312C3.03647 1.04789 3.15208 1 3.27262 1Z"
														fill="white" stroke="white" stroke-width="0.5" />
													<path fill-rule="evenodd" clip-rule="evenodd"
														d="M5.41294 8.40501C5.45527 8.44723 5.48885 8.49739 5.51176 8.55261C5.53468 8.60783 5.54647 8.66702 5.54647 8.7268C5.54647 8.78659 5.53468 8.84578 5.51176 8.901C5.48885 8.95622 5.45527 9.00638 5.41294 9.0486L3.59491 10.8666C3.55269 10.909 3.50253 10.9425 3.44731 10.9655C3.3921 10.9884 3.3329 11.0002 3.27312 11.0002C3.21333 11.0002 3.15414 10.9884 3.09892 10.9655C3.0437 10.9425 2.99354 10.909 2.95132 10.8666L1.13329 9.0486C1.04795 8.96325 1 8.8475 1 8.7268C1 8.60611 1.04795 8.49036 1.13329 8.40501C1.21864 8.31967 1.33439 8.27172 1.45508 8.27172C1.57578 8.27172 1.69153 8.31967 1.77687 8.40501L3.27312 9.90216L4.76936 8.40501C4.81158 8.36269 4.86173 8.3291 4.91695 8.30619C4.97217 8.28328 5.03137 8.27148 5.09115 8.27148C5.15093 8.27148 5.21013 8.28328 5.26535 8.30619C5.32057 8.3291 5.37072 8.36269 5.41294 8.40501Z"
														fill="white" stroke="white" stroke-width="0.5" />
												</g>
												<path fill-rule="evenodd" clip-rule="evenodd"
													d="M9.27376 11C9.15322 11 9.03761 10.9521 8.95238 10.8669C8.86714 10.7816 8.81925 10.666 8.81925 10.5455L8.81926 1.45532C8.81926 1.33478 8.86714 1.21917 8.95238 1.13393C9.03761 1.0487 9.15322 1.00081 9.27376 1.00081C9.39431 1.00081 9.50991 1.0487 9.59515 1.13393C9.68039 1.21917 9.72827 1.33478 9.72827 1.45532L9.72827 10.5455C9.72827 10.666 9.68039 10.7816 9.59515 10.8669C9.50991 10.9521 9.39431 11 9.27376 11Z"
													fill="white" stroke="white" stroke-width="0.5" />
												<path fill-rule="evenodd" clip-rule="evenodd"
													d="M7.13344 3.59499C7.09112 3.55277 7.05754 3.50261 7.03462 3.44739C7.01171 3.39217 6.99992 3.33298 6.99992 3.27319C6.99992 3.21341 7.01171 3.15422 7.03462 3.099C7.05754 3.04378 7.09112 2.99362 7.13344 2.9514L8.95148 1.13337C8.9937 1.09104 9.04385 1.05746 9.09907 1.03455C9.15429 1.01163 9.21349 0.99984 9.27327 0.99984C9.33305 0.99984 9.39225 1.01163 9.44747 1.03455C9.50269 1.05746 9.55284 1.09104 9.59506 1.13337L11.4131 2.9514C11.4984 3.03675 11.5464 3.1525 11.5464 3.2732C11.5464 3.39389 11.4984 3.50964 11.4131 3.59499C11.3278 3.68033 11.212 3.72828 11.0913 3.72828C10.9706 3.72828 10.8549 3.68033 10.7695 3.59499L9.27327 2.09784L7.77703 3.59499C7.73481 3.63731 7.68465 3.6709 7.62943 3.69381C7.57422 3.71672 7.51502 3.72852 7.45524 3.72852C7.39545 3.72852 7.33626 3.71672 7.28104 3.69381C7.22582 3.6709 7.17566 3.63731 7.13344 3.59499Z"
													fill="white" stroke="white" stroke-width="0.5" />
											</svg>
										</div>
									</th>
									<td mat-cell *matCellDef="let element">
										{{ element.Eco }}
									</td>
								</ng-container>


								<ng-container matColumnDef="NetAmountIEPS">
									<th mat-header-cell *matHeaderCellDef style="width: 200px;"> Importe neto <br>+ IEPS
									</th>
									<td mat-cell *matCellDef="let element">
										{{ element.NetAmountIEPS }}
									</td>
								</ng-container>

								<ng-container matColumnDef="Quantity">
									<th mat-header-cell *matHeaderCellDef>
										Cantidad (LTS) </th>
									<td mat-cell *matCellDef="let element">
										{{ element.Quantity }}
									</td>
								</ng-container>

								<ng-container matColumnDef="Fecha">
									<th mat-header-cell *matHeaderCellDef>
										Fecha </th>
									<td mat-cell *matCellDef="let element">
										{{ element.Date }}
									</td>
								</ng-container>


								<ng-container matColumnDef="Cebe">
									<th mat-header-cell *matHeaderCellDef>
										Cebe </th>
									<td mat-cell *matCellDef="let element">
										{{ element.CEBE }}
									</td>
								</ng-container>


								<ng-container matColumnDef="Cedis">
									<th mat-header-cell *matHeaderCellDef>
										Cedis </th>
									<td mat-cell *matCellDef="let element">

										<app-discrepancias [fechas]="currentDate" [data]="element"></app-discrepancias>


									</td>
								</ng-container>


								<ng-container matColumnDef="Region">
									<th mat-header-cell *matHeaderCellDef>
										Region </th>
									<td mat-cell *matCellDef="let element">
										{{ element.Region }}
									</td>
								</ng-container>


								<ng-container matColumnDef="Area">
									<th mat-header-cell *matHeaderCellDef>
										Area </th>
									<td mat-cell *matCellDef="let element">
										{{ element.Area }}
									</td>
								</ng-container>


								<ng-container matColumnDef="Categoria">
									<th mat-header-cell *matHeaderCellDef>
										Categoria </th>
									<td mat-cell *matCellDef="let element">
										{{ element.Category }}
									</td>
								</ng-container>

								<ng-container matColumnDef="Transaccion">
									<th mat-header-cell *matHeaderCellDef>
										Transaccion </th>
									<td mat-cell *matCellDef="let element">
										{{ element.Transaction }}
									</td>
								</ng-container>


								<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
								<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

							</table>
						</div>

						<mat-paginator [pageSize]="10" [pageSizeOptions]="[10, 25, 100]"
							aria-label="Select page of users"></mat-paginator>

						<!-- <p class="pt-3" style="color: #112876; font-size: 12px;">Última actualización: 24 de noviembre de
							2022</p> -->


					</div>
				</div>
			</div>



		</div>
	</div>
</div>





<app-descargar-conciliacion *ngIf="this.openHistoricPanel" [ngClass]="{'hide':!(this.openHistoricPanel)}" [dataHeader]="modalHeaderData" [supplier]="currentSupplier" [date]="currentDate" (clickBack)="closeHistorico($event)"></app-descargar-conciliacion>
