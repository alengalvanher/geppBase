<div class="container-fluid animate__animated animate__fadeIn animate__delay-0.5s">

	<div class="container mt-3">


		<div class="card animate__animated animate__fadeIn animate__delay-0.5s" *ngIf="!reportTablePanel">
			<div class="card-header bg-primary">
				<div class="card-header__title text-white">
					Reportes
				</div>

				<div>
					<!-- <button class="btn btn-secondary d-flex align-items-center" [routerLink]="['/inventario/registro']">
						<img src="./../../../../assets/icons/plus-circle.svg" alt="">
						<span>Registrar nueva unidad</span>
					</button> -->
				</div>
			</div><!-- card-header -->


			<div class="card-body h-full">
				<div class="row">
					<div class="col-6 p-2">
						<button class="btn btn-light w-100 d-flex align-items-center" (click)="reportPanelAppear(1)">
							<img src="./../../../../assets/icons/ic_clock.svg" alt="">
							<span class="text-primary">Historial de posiciones</span>
						</button>
					</div>
					<div class="col-6 p-2 d-flex justify-content-end">
						<button class="btn btn-light w-100 d-flex align-items-center" (click)="reportPanelAppear(2)">
							<img src="./../../../../assets/icons/ic_road.svg" alt="">
							<span class="text-primary">Km transcurridos</span>
						</button>
					</div>
					<div class="col-6 p-2">
						<button class="btn btn-light w-100 d-flex align-items-center" (click)="reportPanelAppear(3)">
							<img src="./../../../../assets/icons/ic_job.svg" alt="">
							<span class="text-primary">Eventos de manejo</span>
						</button>
					</div>
					<div class="col-6 p-2 d-flex justify-content-end">
						<button class="btn btn-light w-100 d-flex align-items-center" (click)="reportPanelAppear(4)">
							<img src="./../../../../assets/icons/ic_clock-full.svg" alt="">
							<span class="text-primary">Tiempo en planta</span>
						</button>
					</div>
				</div>
				<!-- <form [formGroup]="cargaForm">
					<div class="container">
						<div class="row">
							<div class="col-12">
								<p class="text-secondary">
									Inventario* (carga tu plantilla de excel actualizada):
								</p>
							</div>

							<div class="col-12">
								<div class="form-group">
									<input class="form-control file-input w-100" formControlName="archivo" type="file"
										id="fileUpload" #fileUpload name="fileUpload">
								</div>
							</div>


							<ng-template [ngIf]="myPreloader" class="col-12 text-center p-5">
								... cargando.
							</ng-template>


							<div class="button-group">
								<button type="submit" class="btn btn-light w-100"
									[disabled]="this.cargaForm.controls.archivo.status == 'INVALID'"
									(click)="this.cargaForm.reset()">
									Borrar
								</button>

								<button type="submit" class="btn btn-secondary" (click)="enviarFormulario()"
									[disabled]="this.cargaForm.controls.archivo.status == 'INVALID'">
									Guardar
								</button>
							</div>
						</div>
					</div>
				</form> -->
			</div>
		</div>
		<div class="card animate__animated animate__fadeIn animate__delay-0.5s" *ngIf="reportTablePanel">
			<div class="card-header bg-primary">
				<div class="card-header__title text-white d-flex">
					<div class="w-100 d-flex justify-content-between">
						<div class="d-flex flex-row">
							<button class="btn btn-light d-flex align-items-center" (click)="reportPanelDisppear()">
								<img src="./../../../../assets/icons/ic_atras.svg" alt="">
							</button>
							<span class="ms-3">{{this.panelTitle}}</span>
						</div>
						<div>
							<button class="btn btn-light d-flex align-items-center text-primary" (click)="downloadReport()">
								<img src="./../../../../assets/icons/ic_xls.svg" alt="">
								Exportar XLS
							</button>
						</div>
					</div>
					
				</div>
			</div><!-- card-header -->


			<div class="card-body h-full">
				<div class="row">
					<div class="row">
						<div class="col-12">
							<div class="table-wrapper">
								<ng-template [ngIf]="myPreloader" class="col-12">
	
									<ng-template [ngIf]="myPreloader" >
										<div class="col-12 text-center p-5 text-secondary">
											... cargando...
										</div>
									</ng-template>
	
								</ng-template>
								<ng-template [ngIf]="!myPreloader">
									<table mat-table matSort [dataSource]="responseData" class="w-100">
	
										
	
										<!-- Status Column -->
										<ng-container matColumnDef="Status">
											<th mat-header-cell *matHeaderCellDef mat-sort-header> Status  </th>
											<td mat-cell *matCellDef="let element">
												<app-boton-status [element]="element" ></app-boton-status>
											</td>
										</ng-container>
	
										<!-- Substatus Column -->
										<ng-container matColumnDef="Substatus">
											<th mat-header-cell *matHeaderCellDef mat-sort-header> Substatus </th>
											<td mat-cell *matCellDef="let element">
												<a class="sub-status widthCard" >
													{{ element.SubStatus }}
	
													
												</a>
											</td>
										</ng-container>
	
										<!-- Económico Column -->
										<ng-container matColumnDef="Económico">
											<th mat-header-cell *matHeaderCellDef mat-sort-header> Económico </th>
											<td mat-cell *matCellDef="let element">
												{{ element.Eco }}
											</td>
										</ng-container>
	
										<!-- status_info Column -->
										<ng-container matColumnDef="Información">
											<th mat-header-cell *matHeaderCellDef mat-sort-header > Status Información </th>
											<td mat-cell *matCellDef="let element" >
												<div class="d-flex items-align-center" >
													<ng-template [ngIf]="element.StatusInformation == 'Completo'">
														<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-left: 10px;width: 15px">
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18 9C18 11.3869 17.0518 13.6761 15.364 15.364C13.6761 17.0518 11.3869 18 9 18C6.61305 18 4.32387 17.0518 2.63604 15.364C0.948212 13.6761 0 11.3869 0 9C0 6.61305 0.948212 4.32387 2.63604 2.63604C4.32387 0.948212 6.61305 0 9 0C11.3869 0 13.6761 0.948212 15.364 2.63604C17.0518 4.32387 18 6.61305 18 9ZM13.5337 5.59125C13.4534 5.51117 13.3577 5.44812 13.2524 5.40587C13.1471 5.36361 13.0344 5.34303 12.921 5.34534C12.8076 5.34765 12.6958 5.37281 12.5923 5.41931C12.4888 5.46582 12.3958 5.53271 12.3187 5.616L8.41162 10.5941L6.057 8.23837C5.89705 8.08933 5.6855 8.0082 5.46691 8.01205C5.24832 8.01591 5.03976 8.10446 4.88518 8.25905C4.73059 8.41364 4.64204 8.6222 4.63818 8.84079C4.63432 9.05938 4.71546 9.27093 4.8645 9.43088L7.84125 12.4087C7.92144 12.4888 8.01693 12.5519 8.12203 12.5942C8.22713 12.6366 8.33968 12.6573 8.45296 12.6552C8.56625 12.6531 8.67795 12.6282 8.78141 12.582C8.88486 12.5358 8.97795 12.4692 9.05512 12.3863L13.5461 6.7725C13.6992 6.61331 13.7838 6.40043 13.7817 6.17958C13.7796 5.95872 13.691 5.74749 13.5349 5.59125H13.5337Z" fill="#62E700"/>
														</svg>
														<span class="completo" style="width: 90px; margin: auto -5px; text-decoration: none;"> {{ element.StatusInformation }} </span>
													</ng-template>
	
													<ng-template [ngIf]="element.StatusInformation == 'Incompleto'">
														<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg" style="margin-left: 10px; width: 15px">
															<path fill-rule="evenodd" clip-rule="evenodd" d="M18 9C18 11.3869 17.0518 13.6761 15.364 15.364C13.6761 17.0518 11.3869 18 9 18C6.61305 18 4.32387 17.0518 2.63604 15.364C0.948212 13.6761 0 11.3869 0 9C0 6.61305 0.948212 4.32387 2.63604 2.63604C4.32387 0.948212 6.61305 0 9 0C11.3869 0 13.6761 0.948212 15.364 2.63604C17.0518 4.32387 18 6.61305 18 9ZM9 4.5C8.85781 4.50008 8.71721 4.52994 8.58726 4.58767C8.45731 4.64539 8.3409 4.7297 8.24551 4.83515C8.15013 4.9406 8.07789 5.06487 8.03345 5.19994C7.98901 5.33501 7.97336 5.47789 7.9875 5.61937L8.38125 9.56475C8.39448 9.71974 8.4654 9.86413 8.57998 9.96934C8.69455 10.0746 8.84444 10.1329 9 10.1329C9.15556 10.1329 9.30545 10.0746 9.42002 9.96934C9.5346 9.86413 9.60552 9.71974 9.61875 9.56475L10.0125 5.61937C10.0266 5.47789 10.011 5.33501 9.96655 5.19994C9.92211 5.06487 9.84987 4.9406 9.75449 4.83515C9.6591 4.7297 9.54269 4.64539 9.41274 4.58767C9.28279 4.52994 9.14219 4.50008 9 4.5ZM9.00225 11.25C8.70388 11.25 8.41773 11.3685 8.20675 11.5795C7.99578 11.7905 7.87725 12.0766 7.87725 12.375C7.87725 12.6734 7.99578 12.9595 8.20675 13.1705C8.41773 13.3815 8.70388 13.5 9.00225 13.5C9.30062 13.5 9.58677 13.3815 9.79774 13.1705C10.0087 12.9595 10.1272 12.6734 10.1272 12.375C10.1272 12.0766 10.0087 11.7905 9.79774 11.5795C9.58677 11.3685 9.30062 11.25 9.00225 11.25Z" fill="#FFBF25"/>
														</svg>
														
													</ng-template>
												</div>
											</td>
										</ng-container>
	
										<!-- cbu Column -->
										<ng-container matColumnDef="Cbu">
											<th mat-header-cell *matHeaderCellDef mat-sort-header> CBU </th>
											<td mat-cell *matCellDef="let element">
												{{ element.Cbu }}
											</td>
										</ng-container>
	
										<!-- region Column -->
										<ng-container matColumnDef="Región">
											<th mat-header-cell *matHeaderCellDef mat-sort-header> Región </th>
											<td mat-cell *matCellDef="let element">
												{{ element.Region }}
											</td>
										</ng-container>
	
										<!-- sitio Column -->
										<ng-container matColumnDef="Sitio">
											<th mat-header-cell *matHeaderCellDef mat-sort-header> Sitio </th>
											<td mat-cell *matCellDef="let element">
												{{ element.Site }}
											</td>
										</ng-container>
	
										<!-- poliza Column -->
										<ng-container matColumnDef="Póliza">
											<th mat-header-cell *matHeaderCellDef mat-sort-header> Póliza </th>
											<td mat-cell *matCellDef="let element">
												{{ element.Policy }}
											</td>
										</ng-container>
	
										<!-- vigencia Column -->
										<ng-container matColumnDef="Vigencia">
											<th mat-header-cell *matHeaderCellDef mat-sort-header> Vigencia </th>
											<td mat-cell *matCellDef="let element">
												{{ element.Validity }}
											</td>
										</ng-container>
	
										<!-- caseta Column -->
										<ng-container matColumnDef="Tag">
											<th mat-header-cell *matHeaderCellDef mat-sort-header > Caseta Tag </th>
											<td mat-cell *matCellDef="let element" >
												{{ element.Tag }}
											</td>
										</ng-container>
	
										<!-- proveedor Column -->
										<ng-container matColumnDef="Proveedor_de_combustible">
											<th mat-header-cell *matHeaderCellDef mat-sort-header > Comb Proveedor </th>
											<td mat-cell *matCellDef="let element" >
												{{ element.CombSupplier }}
											</td>
										</ng-container>
	
										<!-- telemetría Column -->
										<ng-container matColumnDef="Telemetría">
											<th mat-header-cell *matHeaderCellDef mat-sort-header > Status de telemetría </th>
											<td mat-cell *matCellDef="let element" >
												{{ element.TelemetryStatus }}
											</td>
										</ng-container>
	
										<!-- tipo de vehículo Column -->
										<ng-container matColumnDef="Tipo_de_vehículo">
											<th mat-header-cell *matHeaderCellDef mat-sort-header > Tipo de vehículo </th>
											<td mat-cell *matCellDef="let element" >
												{{ element.VehicleType }}
											</td>
										</ng-container>
	
										<!-- placa Column -->
										<ng-container matColumnDef="Placa">
											<th mat-header-cell *matHeaderCellDef mat-sort-header > Placas </th>
											<td mat-cell *matCellDef="let element" >
												{{ element.Plate }}
											</td>
										</ng-container>
	
										<!-- progress Column -->
										<ng-container matColumnDef="Info">
											<th mat-header-cell *matHeaderCellDef mat-sort-header > Información registrada </th>
											<td mat-cell *matCellDef="let element" >
												<ngb-progressbar class="mb-3" [showValue]="true" type="warning" [value]="100/2"></ngb-progressbar>
											</td>
										</ng-container>
	
										<tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
										<tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
	
									</table>
								</ng-template>
							</div>
	
							<mat-paginator [pageSize]="10" [pageSizeOptions]="[10, 25, 100]" aria-label="Select page of users"></mat-paginator>
						</div>
					</div>
				</div>
				
			</div>
		</div>
	</div>

</div>










<ng-template #successAlert let-modal>
	<div class="text-end" style="cursor: pointer;">
		<a (click)="modal.dismiss('Cross click')">
			<img src="./../../../../assets/icons/ic_cerrar.svg" alt="">
		</a>
	</div>


	<div class="modal-body text-center origami-modal">
		<div class="mb-3">
			<svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" viewBox="0 0 50 50" fill="none">
				<circle cx="25" cy="25" r="25" fill="#62E700"/>
				<path fill-rule="evenodd" clip-rule="evenodd" d="M35.7868 17.5873C35.973 17.773 36.1207 17.9936 36.2215 18.2365C36.3222 18.4793 36.3741 18.7397 36.3741 19.0026C36.3741 19.2656 36.3222 19.526 36.2215 19.7688C36.1207 20.0117 35.973 20.2323 35.7868 20.418L23.7923 32.4124C23.6067 32.5986 23.3861 32.7463 23.1432 32.8471C22.9003 32.9479 22.64 32.9998 22.377 32.9998C22.1141 32.9998 21.8537 32.9479 21.6108 32.8471C21.368 32.7463 21.1474 32.5986 20.9617 32.4124L14.9644 26.4152C14.7786 26.2294 14.6311 26.0087 14.5305 25.7659C14.4299 25.523 14.3782 25.2627 14.3782 24.9999C14.3782 24.737 14.4299 24.4767 14.5305 24.2339C14.6311 23.991 14.7786 23.7704 14.9644 23.5845C15.1503 23.3987 15.3709 23.2512 15.6138 23.1506C15.8566 23.05 16.1169 22.9983 16.3798 22.9983C16.6426 22.9983 16.9029 23.05 17.1458 23.1506C17.3886 23.2512 17.6093 23.3987 17.7951 23.5845L22.377 28.1704L32.9561 17.5873C33.1418 17.4011 33.3624 17.2534 33.6053 17.1527C33.8481 17.0519 34.1085 17 34.3715 17C34.6344 17 34.8948 17.0519 35.1376 17.1527C35.3805 17.2534 35.6011 17.4011 35.7868 17.5873Z" fill="white"/>
			</svg>
		</div>

		<p style="font-size: 18px; color: #112876;">
			Tu archivo se ha cargado correctamente.
		</p>

		<a class="btn btn-secondary" (click)="modalDismiss()">
			Continuar
		</a>
	</div>
</ng-template>




<ng-template #errorAlert let-modal>
	<div class="text-end" style="cursor: pointer;">
		<a (click)="modal.dismiss('Cross click')">
			<img src="./../../../../assets/icons/ic_cerrar.svg" alt="">
		</a>
	</div>


	<div class="modal-body text-center origami-modal">
		<div class="mb-3">
			<svg xmlns="http://www.w3.org/2000/svg" width="51" height="50" viewBox="0 0 51 50" fill="none">
				<ellipse cx="25.019" cy="25" rx="25.019" ry="25" fill="#FF252B"/>
				<path d="M33.0845 16.94C32.9452 16.8006 32.7798 16.69 32.5978 16.6145C32.4155 16.5389 32.2201 16.5 32.0228 16.5C31.8254 16.5 31.63 16.5389 31.4478 16.6145C31.2657 16.69 31.1002 16.8006 30.9609 16.94L33.0845 16.94ZM33.0845 16.94C33.2241 17.0792 33.3349 17.2446 33.4105 17.4266C33.4862 17.6089 33.5251 17.8043 33.5251 18.0016C33.5251 18.1989 33.4862 18.3943 33.4105 18.5765C33.3348 18.7588 33.2239 18.9243 33.0841 19.0636L19.0766 33.0605C18.7949 33.3419 18.413 33.5 18.0148 33.5C17.6166 33.5 17.2346 33.3419 16.953 33.0605C16.6713 32.779 16.5129 32.3972 16.5129 31.9989C16.5129 31.6007 16.6713 31.2189 16.953 30.9374L30.9605 16.9405L33.0841 16.9396L32.7312 17.2937L33.085 16.9405C33.0849 16.9403 33.0847 16.9401 33.0845 16.94Z" fill="white" stroke="white"/>
				<path d="M16.9539 16.9396C16.8142 17.0789 16.7033 17.2444 16.6276 17.4266C16.5519 17.6089 16.5129 17.8043 16.5129 18.0016C16.5129 18.1989 16.5519 18.3943 16.6276 18.5765C16.7032 18.7587 16.814 18.9241 16.9537 19.0633C16.9537 19.0634 16.9538 19.0635 16.9539 19.0636L30.9615 33.0605C31.2431 33.3419 31.6251 33.5 32.0233 33.5C32.4215 33.5 32.8034 33.3419 33.0851 33.0605C33.3668 32.779 33.5251 32.3972 33.5251 31.9989C33.5251 31.6007 33.3668 31.2189 33.0851 30.9374L19.0776 16.9405C19.0775 16.9404 19.0774 16.9404 19.0774 16.9403C18.938 16.8007 18.7725 16.69 18.5903 16.6145C18.408 16.5389 18.2126 16.5 18.0153 16.5C17.818 16.5 17.6226 16.5389 17.4403 16.6145C17.258 16.6901 17.0924 16.8008 16.953 16.9405L17.3069 17.2937L16.9539 16.9396Z" fill="white" stroke="white"/>
			</svg>
		</div>

		<p style="font-size: 18px; color: #112876;">
			No se pudo cargar tu archivo.<br>
			Por favor inténtelo nuevamente.
		</p>

		<a class="btn btn-secondary" (click)="modalDismiss()">
			Continuar
		</a>
	</div>
</ng-template>
